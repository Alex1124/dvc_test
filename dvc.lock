schema: '2.0'
stages:
  prepare_data:
    cmd: python src/data/prepare_data.py
    deps:
    - path: src/data/prepare_data.py
      hash: md5
      md5: df2150c18fde73f7ec9b3f5fb340f512
      size: 1148
    outs:
    - path: data/processed/test.npz
      hash: md5
      md5: 8eee107c0204b6899d35ef0b10b556b1
      size: 30730490
    - path: data/processed/train.npz
      hash: md5
      md5: a894ca1bfe61c387a6e106569eff52cc
      size: 153650490
  train_model:
    cmd: python src/train/train_model.py
    deps:
    - path: data/processed/test.npz
      hash: md5
      md5: 8eee107c0204b6899d35ef0b10b556b1
      size: 30730490
    - path: data/processed/train.npz
      hash: md5
      md5: a894ca1bfe61c387a6e106569eff52cc
      size: 153650490
    - path: src/train/train_model.py
      hash: md5
      md5: 552b1c85f14b4bb2608066d1be525f28
      size: 3622
    params:
      params.yaml:
        train.epochs: 21
        train.lr: 0.001
    outs:
    - path: models/cifar10_model.h5
      hash: md5
      md5: 3107459a6b4eb286c85dec8e8a6a6607
      size: 1524736
  evaluate_model:
    cmd: python src/eval/evaluate_model.py
    deps:
    - path: data/processed/test.npz
      hash: md5
      md5: 8eee107c0204b6899d35ef0b10b556b1
      size: 30730490
    - path: models/cifar10_model.h5
      hash: md5
      md5: 3107459a6b4eb286c85dec8e8a6a6607
      size: 1524736
    - path: src/eval/evaluate_model.py
      hash: md5
      md5: 8d26b12bc5855db401e55f723a972867
      size: 4470
    outs:
    - path: dvclive
      hash: md5
      md5: bc40b5ba3c81c0df713efbdb8bd9728e.dir
      size: 659182
      nfiles: 8
